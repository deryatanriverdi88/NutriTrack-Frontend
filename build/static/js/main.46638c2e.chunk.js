(this["webpackJsonpfrontend-nutritrack"]=this["webpackJsonpfrontend-nutritrack"]||[]).push([[0],{29:function(e,a,t){e.exports=t(52)},34:function(e,a,t){},35:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(19),o=t.n(r),i=(t(34),t(4)),c=t(5),s=t(7),m=t(6),u=t(8),d=(t(35),t(16)),h=t(14),g=t(2),p=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",password:"",name:"",age:null,image:"https://images.unsplash.com/photo-1549297161-14f79605a74c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",gender:"",height:null,weight:null,goalCalorie:null,errors:"",loginOn:!0},t.loginForm=function(){return l.a.createElement("form",{className:"inputs",onSubmit:t.handleLoginSubmit},l.a.createElement("label",{htmlFor:"username"},l.a.createElement("span",null,"Username"),l.a.createElement("input",{type:"text",id:"username",value:t.state.username,name:"username",onChange:t.handleChange})),l.a.createElement("label",{htmlFor:"password"},l.a.createElement("span",null,"Password :"),l.a.createElement("input",{type:"password",id:"password",value:t.state.password,name:"password",onChange:t.handleChange})),l.a.createElement("input",{type:"submit",id:"submit"}))},t.signupForm=function(){return l.a.createElement("form",{className:"inputs",onSubmit:t.handleSignupSubmit},l.a.createElement("label",{htmlFor:"name"},l.a.createElement("span",null," Name :"),l.a.createElement("input",{id:"name",name:"name",value:t.state.name,type:"text",onChange:t.handleChange})),l.a.createElement("label",{htmlFor:"username"},l.a.createElement("span",null," Username :"),l.a.createElement("input",{id:"username",name:"username",value:t.state.username,type:"text",onChange:t.handleChange})),l.a.createElement("label",{htmlFor:"age"},l.a.createElement("span",null,"Age: "),l.a.createElement("input",{name:"age",id:"age",age:"age",value:t.state.age,type:"number",onChange:t.handleChange})),l.a.createElement("label",{htmlFor:"image"},l.a.createElement("span",null,"Image :"),l.a.createElement("input",{id:"image",name:"image",value:t.state.image,type:"text",onChange:t.handleChange})),l.a.createElement("label",{htmlFor:"gender"},l.a.createElement("span",null,"Gender :"),l.a.createElement("select",{name:"gender",id:"gender",onChange:t.handleChange},l.a.createElement("option",null," Select"),l.a.createElement("option",{value:"Female"},"Female"),l.a.createElement("option",{value:"Male"},"Male"),l.a.createElement("option",{value:"Prefered not to say"},"Prefered not to say"))),l.a.createElement("label",{htmlFor:"weight"},l.a.createElement("span",null,"Weight : "),l.a.createElement("input",{id:"weight",name:"weight",value:t.state.weight,type:"number",onChange:t.handleChange})),l.a.createElement("label",{htmlFor:"height"},l.a.createElement("span",null,"Height : "),l.a.createElement("input",{id:"height",name:"height",value:t.state.height,type:"float",onChange:t.handleChange})),l.a.createElement("label",{htmlFor:"goalCalorie"},l.a.createElement("span",null,"Daily goal calorie : "),l.a.createElement("input",{id:"goalCalorie",name:"goalCalorie",value:t.state.goalCalorie,type:"number",onChange:t.handleChange})),l.a.createElement("label",{htmlFor:"password"},l.a.createElement("span",null,"Password : "),l.a.createElement("input",{id:"password",name:"password",value:t.state.password,type:"password",onChange:t.handleChange})),l.a.createElement("input",{type:"submit",id:"submit"}))},t.handleChange=function(e){t.setState(Object(h.a)({},e.target.name,e.target.value))},t.handleClick=function(){t.setState({loginOn:!t.state.loginOn})},t.handleLoginSubmit=function(e){e.preventDefault(),fetch("https://nutritrack.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:t.state.username,password:t.state.password})}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),console.log(e),e.token?(t.props.setUser(e.current_user),t.props.history.push("/")):t.setState({errors:e.error})}))},t.handleSignupSubmit=function(e){e.preventDefault(),fetch("https://nutritrack.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t.state.name,username:t.state.username,age:t.state.age,gender:t.state.gender,weight:t.state.weight,height:t.state.height,goal_calorie:t.state.goalCalorie,password:t.state.password,image:t.state.image})}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),e.token?(t.props.setUser(e.current_user),t.props.history.push("/")):t.setState({errors:e.error})}))},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"login-container"},l.a.createElement("div",{className:"login-form"},this.state.errors,l.a.createElement("p",null,this.state.loginOn?"Don't have an account yet?":"I have an account",l.a.createElement("b",{onClick:this.handleClick},this.state.loginOn?l.a.createElement("span",null,"Sign Up!"):l.a.createElement("span",null,"Login!"))),this.state.loginOn?this.loginForm():this.signupForm()))}}]),a}(n.Component),E=Object(g.b)((function(e){return{current_user:e.user}}),(function(e){return{setUser:function(a){e({type:"SET_USER",payload:a})}}}))(p),f=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"daily-summary shadow"},l.a.createElement("q",null,"It is health that is real wealth and not pieces of gold and silver.",l.a.createElement("cite",null,"  -Mahatma Gandhi")))}}]),a}(n.Component),b=t(3);var v=function(){var e=Object(g.c)((function(e){return e.user}));return l.a.createElement("div",{id:"home"},e.id?l.a.createElement(l.a.Fragment,null,l.a.createElement(f,{user:e})):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{id:"greeting"},"Welcome to NutriTrack"),l.a.createElement("div",{class:"login-message"},l.a.createElement("p",null,"Start free!"),l.a.createElement(b.b,{to:"/login"}," Login "))))};var y=function(){var e=Object(g.c)((function(e){return e.user}));if(e.id){var a=e.username,t=e.name,n=e.age,r=e.weight,o=e.height,i=e.goal_calorie,c=e.gender,s=e.image,m=e.goal_carbs,u=e.goal_fat,d=e.goal_protein,h=e.goal_sugar;return l.a.createElement("div",{className:"profile-div"},l.a.createElement("div",{className:"img-div"},l.a.createElement("img",{className:"profile-image",src:s,alt:"name"})),l.a.createElement("div",{className:"clear"}),l.a.createElement("div",{className:"info-div"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Name :")," ",t),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Username : "),a),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Age :")," ",n," "),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Gender :")," ",c),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Height :")," ",o," "),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Weight :")," ",r," "),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Daily calorie goal :")," ",i," "),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Daily carbs goal :")," ",m),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Daily fat goal :")," ",u),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Daily protein goal :")," ",d),l.a.createElement("li",null,l.a.createElement("span",{className:"bold"},"Daily sugar goal :")," ",h),l.a.createElement(b.b,{to:"/edit",className:"edit"}," Edit Profile!"),l.a.createElement(b.b,{to:"/login",className:"delete-profile",onClick:function(){fetch("https://nutritrack.herokuapp.com/users/".concat(e.id),{method:"DELETE"}).then(localStorage.clear())}},"Delete Profile"))))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"No user"))},k=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={errors:""},t.handleClose=function(){t.props.history.push("/profile")},t.handleChange=function(e){console.log(e.target.value),t.setState(Object(h.a)({},e.target.name,e.target.value))},t.handleEditSubmit=function(e){e.preventDefault(),fetch("https://nutritrack.herokuapp.com/users/".concat(t.props.current_user.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t.state.name,username:t.state.username,gender:t.state.gender,age:t.state.age,weight:t.state.weight,height:t.state.height,goal_calorie:t.state.goal_calorie,image:t.state.image,goal_carbs:t.state.goal_carbs,goal_fat:t.state.goal_fat,goal_sugar:t.state.goal_sugar,goal_protein:t.state.goal_protein})}).then((function(e){return e.json()})).then((function(e){console.log(e),e?(t.props.setUser(e),t.props.history.push("/profile")):t.setState({errors:e.error[0]})}))},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.name,t=e.username,n=e.age,r=e.weight,o=e.height,i=e.goal_calorie,c=e.goal_carbs,s=e.goal_fat,m=e.goal_sugar,u=e.goal_protein,d=e.image;return console.log(this.state),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"edit-profile-div"},this.props.current_user.id?l.a.createElement("div",{className:"edit-profile"},l.a.createElement("button",{className:"close",onClick:this.handleClose}," \u274c "),l.a.createElement("form",{className:"inputs",onSubmit:this.handleEditSubmit},l.a.createElement("label",{htmlFor:"name"},l.a.createElement("span",null,"Name :"),l.a.createElement("input",{id:"name",name:"name",value:a,type:"text",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"username"},l.a.createElement("span",null,"Username : "),l.a.createElement("input",{id:"username",name:"username",value:t,type:"text",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"age"},l.a.createElement("span",null," Age: "),l.a.createElement("input",{name:"age",id:"age",age:"age",value:n,type:"number",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"image"},l.a.createElement("span",null,"Image :"),l.a.createElement("input",{id:"image",name:"image",value:d,type:"text",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"gender"},l.a.createElement("span",null,"Gender :"),l.a.createElement("select",{name:"gender",id:"gender",onChange:this.handleChange},l.a.createElement("option",null," Select"),l.a.createElement("option",{value:"Female"},"Female"),l.a.createElement("option",{value:"Male"},"Male"),l.a.createElement("option",{value:"Prefered not to say"},"Prefered not to say"))),l.a.createElement("label",{htmlFor:"weight"},l.a.createElement("span",null,"Weight :"),l.a.createElement("input",{id:"weight",name:"weight",value:r,type:"number",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"height"},l.a.createElement("span",null,"Height : "),l.a.createElement("input",{id:"height",name:"height",value:o,type:"float",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"goalCalorie"},l.a.createElement("span",null,"Daily goal calorie : "),l.a.createElement("input",{id:"goalCalorie",name:"goal_calorie",value:i,type:"number",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"goalCarbs"},l.a.createElement("span",null,"Daily carbs goal : "),l.a.createElement("input",{id:"goalCarbs",name:"goal_carbs",value:c,type:"float",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"goalFat"},l.a.createElement("span",null,"Daily fat goal : "),l.a.createElement("input",{id:"goalFat",name:"goal_fat",value:s,type:"float",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"goalSugar"},l.a.createElement("span",null,"Daily sugar goal :"),l.a.createElement("input",{id:"goalSugar",name:"goal_sugar",value:m,type:"float",onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"goalProtein"},l.a.createElement("span",null,"Daily protein goal : "),l.a.createElement("input",{id:"goalProtein",name:"goal_protein",value:u,type:"float",onChange:this.handleChange})),l.a.createElement("input",{type:"submit",id:"submit"}))):null))}}],[{key:"getDerivedStateFromProps",value:function(e,a){if(a.id!==e.current_user.id)return e.current_user}}]),a}(n.Component),C=Object(g.b)((function(e){return{current_user:e.user}}),(function(e){return{setUser:function(a){e({type:"SET_USER",payload:a})}}}))(k),N=function(e){var a=e.food,t=a.name,n=a.calorie,r=a.carb,o=a.sugar,i=a.fat,c=a.serving_size,s=a.protein;return console.log(e),l.a.createElement("div",{className:"food-item"},l.a.createElement("ul",null,l.a.createElement("li",null," ",l.a.createElement("span",null,"Name :")," ",t," "),l.a.createElement("li",null," ",l.a.createElement("span",null,"Calories :"),n," "),l.a.createElement("li",null," ",l.a.createElement("span",null,"Carbs :")," ",r," "),l.a.createElement("li",null," ",l.a.createElement("span",null,"Sugar :"),o," "),l.a.createElement("li",null," ",l.a.createElement("span",null,"Fat :")," ",i," "),l.a.createElement("li",null," ",l.a.createElement("span",null,"Protein :")," ",s," "),l.a.createElement("li",null," ",l.a.createElement("span",null,"Serving Size :"),c," gr "),l.a.createElement("button",{className:"x",onClick:e.handleClick}," ",l.a.createElement("span",null," \u274c "))))},F=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={serving:null,mealType:"",date:(new Date).toLocaleDateString(),foodView:!1,food:{}},t.handleChange=function(e){console.log(e.target.name,e.target.value),t.setState(Object(h.a)({},e.target.name,e.target.value))},t.handleClick=function(e){t.setState({foodView:!t.state.foodView,food:e})},t.handleSubmit=function(e){e.preventDefault(),console.log("submit"),fetch("https://nutritrack.herokuapp.com/daily_intakes",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:t.props.current_user.id,food_id:t.props.food.id,meal_type:t.state.mealType,serving:t.state.serving,date:t.state.date})}).then((function(e){return e.json()})).then((function(e){console.log(e),t.props.setUser(e),setTimeout((function(){t.props.history.push("/daily-intake/".concat(t.state.date))}),50)}))},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;console.log(this.state.date);var a=this.props.food.name;return l.a.createElement("div",{className:"background-for-z-index"},l.a.createElement("div",{className:"food-form"},l.a.createElement("h3",{className:"food-name"},a),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"serving"}," ",l.a.createElement("span",{className:"serving"}," Servings of ")),l.a.createElement("input",{id:"serving",name:"serving",type:"number",onChange:this.handleChange,value:this.state.serving}),l.a.createElement("input",{type:"hidden",id:"user",name:"userId"}),l.a.createElement("input",{type:"hidden",id:"food",name:"foodId"}),l.a.createElement("label",{htmlFor:"date"},l.a.createElement("span",{className:"date"},"Date"),l.a.createElement("input",{type:"date",id:"date",name:"date",value:this.state.date,onChange:this.handleChange})),l.a.createElement("label",{htmlFor:"mealType"}," ",l.a.createElement("span",{className:"meal-type"},"Meal Type")," "),l.a.createElement("select",{id:"mealType",name:"mealType",onChange:this.handleChange},l.a.createElement("option",{name:""}),l.a.createElement("option",{value:"breakfast"},"Breakfast"),l.a.createElement("option",{value:"lunch"},"Lunch"),l.a.createElement("option",{value:"dinner"},"Dinner"),l.a.createElement("option",{value:"snack"},"Snack")),l.a.createElement("input",{className:"add-your-diary",type:"submit",value:"Add to your diary!"})),l.a.createElement("button",{className:"x",onClick:this.props.handleClick}," ",l.a.createElement("span",null," \u274c ")),l.a.createElement("button",{className:"nutrition-info-button",onClick:function(){return e.handleClick(e.props.food)}}," See nutrition info "),this.state.foodView?l.a.createElement(N,{food:this.state.food,handleClick:this.handleClick}):null))}}]),a}(n.Component),S=Object(d.f)(Object(g.b)((function(e){return{current_user:e.user}}),(function(e){return{setUser:function(a){e({type:"SET_USER",payload:a})},clearUser:function(){e({type:"CLEAR_USER"})}}}))(F)),_=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={searchValue:"",foodForm:!1,food:{}},t.handleChange=function(e){console.log(e.target.value),t.setState({searchValue:e.target.value})},t.handleClick=function(e){console.log("click"),t.setState({foodForm:!t.state.foodForm,food:e})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://nutritrack.herokuapp.com/foods").then((function(e){return e.json()})).then((function(a){e.props.getFoods(a)}))}},{key:"render",value:function(){var e=this,a=this.props.foods.filter((function(a){if(""!==e.state.searchValue)return a.name.toLowerCase().includes(e.state.searchValue.toLowerCase())}));return l.a.createElement("div",{className:"add-food-div"},l.a.createElement("form",{className:"add-food-form"},l.a.createElement("label",null,"Search"),l.a.createElement("input",{className:"add-food-input",type:"text",onChange:this.handleChange})),l.a.createElement("ul",{className:"foods"},this.props.foods?a.map((function(a){return l.a.createElement("li",{key:a.id,onClick:function(){return e.handleClick(a)}},a.name)})):"Foods are loading..."),this.state.foodForm?l.a.createElement(l.a.Fragment,null,l.a.createElement(S,{food:this.state.food,handleClick:this.handleClick})):l.a.createElement(l.a.Fragment,null))}}]),a}(n.Component),w=Object(g.b)((function(e){return{foods:e.foods}}),(function(e){return{getFoods:function(a){e({type:"GET_FOODS",payload:a})}}}))(_),O=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return console.log(this.props),l.a.createElement("div",{className:"background-for-z-index"},l.a.createElement("div",{className:"edit-daily-intake"},l.a.createElement("button",{onClick:this.props.handleClick,className:"x"}," \u274c "),l.a.createElement("form",{onSubmit:this.props.handleEditSubmit},l.a.createElement("h3",null,this.props.intake.food.name),l.a.createElement("label",{htmlFor:"serving"}," Servings of "),l.a.createElement("input",{id:"serving",name:"serving",type:"number",onChange:this.props.handleChange}),l.a.createElement("label",{htmlFor:"mealType"}," Meal Type "),l.a.createElement("select",{id:"mealType",name:"mealType",onChange:this.props.handleChange},l.a.createElement("option",{name:""}),l.a.createElement("option",{value:"breakfast"},"Breakfast"),l.a.createElement("option",{value:"lunch"},"Lunch"),l.a.createElement("option",{value:"dinner"},"Dinner"),l.a.createElement("option",{value:"snack"},"Snack")),l.a.createElement("input",{type:"submit",value:"Add to your diary!",className:"add-your-diary"}))))}}]),a}(n.Component),j=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={editForm:!1,dailyIntake:{},serving:null,mealType:"",dailyIntakes:[],date:(new Date).toLocaleDateString()},t.handleDeleteClick=function(e,a){console.log(a),fetch("https://nutritrack.herokuapp.com/daily_intakes/".concat(a.id),{method:"DELETE"}).then((function(e){var n=t.state.dailyIntakes.filter((function(e){return e.id!==a.id}));t.setState({dailyIntakes:n})}))},t.handleEditForm=function(){t.setState({editForm:!1})},t.handleClick=function(e,a){t.setState({editForm:!t.state.editForm,dailyIntake:a,serving:a.serving,mealType:a.meal_type})},t.handleDateClick=function(){t.setState({date:(new Date).toLocaleDateString()});var e=(new Date).toLocaleDateString();t.fetchDailyIntake(),t.props.history.push("/daily-intake/".concat(e))},t.fetchDailyIntake=function(){var e={method:"GET",headers:{Authorization:localStorage.token}};fetch("https://nutritrack.herokuapp.com/daily_intakes",e).then((function(e){return e.json()})).then((function(e){var a=e.filter((function(e){return t.state.date===(new Date).toLocaleDateString()?e.changed_date===t.state.date:e.date===t.state.date}));t.setState({dailyIntakes:a})}))},t.handleChange=function(e){t.setState(Object(h.a)({},e.target.name,e.target.value))},t.handleDateChange=function(e){console.log(e.target.value),t.setState(Object(h.a)({},e.target.name,e.target.value)),t.fetchDailyIntake(),t.props.history.push("/daily-intake/".concat(e.target.value))},t.handleEditSubmit=function(e){e.preventDefault(),fetch("https://nutritrack.herokuapp.com/daily_intakes/".concat(t.state.dailyIntake.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({meal_type:t.state.mealType,serving:t.state.serving})}).then((function(e){return e.json()})).then((function(e){var a=t.state.dailyIntakes.map((function(a){return a.id===e.id?e:a}));t.setState({dailyIntake:e,dailyIntakes:a,editForm:!1})}))},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchDailyIntake();var e=this.props.match.params.date;e?this.setState({date:e}):this.setState({date:(new Date).toLocaleDateString()})}},{key:"render",value:function(){var e=this;console.log(this.state.date);var a=this.props.current_user,t=function(){var a={protein:0,sugar:0,carbs:0,fat:0,servings:0,calories:0};return e.state.dailyIntakes.length&&e.state.dailyIntakes.forEach((function(e){a.servings+=e.serving,a.protein+=e.total_protein,a.sugar+=e.total_sugar,a.carbs+=e.total_carbs,a.fat+=e.total_fat,a.calories+=e.total_calories})),a},n=function(){var n={protein:0,sugar:0,carbs:0,fat:0,calories:0};return e.state.dailyIntakes.length&&e.state.dailyIntakes.forEach((function(e){n.calories=a.goal_calorie-t().calories,n.protein=a.goal_protein-t().protein,n.sugar=a.goal_sugar-t().sugar,n.carbs=a.goal_carbs-t().carbs,n.fat=a.goal_fat-t().fat})),n};return l.a.createElement("div",{className:"daily-intake"},l.a.createElement("p",{className:"select-day"}," Select a date"),l.a.createElement("input",{type:"date",className:"date",value:this.state.date,onChange:this.handleDateChange,name:"date"}),l.a.createElement("button",{className:"date today",onClick:this.handleDateClick},"Today "),this.state.editForm?l.a.createElement(O,{intake:this.state.dailyIntake,handleClick:this.handleEditForm,handleChange:this.handleChange,handleEditSubmit:this.handleEditSubmit}):null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",{className:"row"},l.a.createElement("th",{width:"20%",style:{border:"none"}}),l.a.createElement("th",{width:"10%"},"Serving"),l.a.createElement("th",{className:"calorie",width:"10%"},"Calorie ( kcal )"),l.a.createElement("th",{width:"10%",className:"fat"},"Fat ( g )"),l.a.createElement("th",{width:"10%",className:"carbs"},"Carbs ( g )"),l.a.createElement("th",{width:"10%",className:"protein"},"Protein ( g )"),l.a.createElement("th",{width:"10%",className:"sugar"},"Sugar ( g )"),l.a.createElement("th",{width:"1%",style:{border:"none"}}))),l.a.createElement("tbody",null,l.a.createElement("tr",{className:"row"},l.a.createElement("th",{width:"0%",className:"breakfast"},"Breakfast")),e.state.dailyIntakes?e.state.dailyIntakes.filter((function(e){return"breakfast"===e.meal_type})).map((function(a){return l.a.createElement("tr",{key:a.food.id},l.a.createElement("td",null," ",a.food.name," ",a.changed_date," ",l.a.createElement("button",{className:"edit-intake",onClick:function(t){return e.handleClick(t,a)}}," Edit ")),l.a.createElement("td",null,a.serving," \u2716\ufe0f  (",a.food.serving_size," g)"),l.a.createElement("td",{className:"calorie"}," ",a.food.calorie*a.serving),l.a.createElement("td",{className:"fat"}," ",(a.food.fat*a.serving).toFixed(2)," "),l.a.createElement("td",{className:"carbs"}," ",(a.food.carbs*a.serving).toFixed(2)),l.a.createElement("td",{className:"protein"}," ",(a.food.protein*a.serving).toFixed(2)),l.a.createElement("td",{className:"sugar"}," ",(a.food.sugar*a.serving).toFixed(2)),l.a.createElement("td",{className:"delete",onClick:function(t){return e.handleDeleteClick(t,a)}}," ",l.a.createElement("span",null," \u274c ")," "))})):"There is no food logged in..",l.a.createElement("tr",{className:"row"},l.a.createElement("th",{width:"10%",className:"lunch"},"Lunch")),e.state.dailyIntakes?e.state.dailyIntakes.filter((function(e){return"lunch"===e.meal_type})).map((function(a){return l.a.createElement("tr",{key:a.food.id},l.a.createElement("td",null,"  ",a.food.name," ",a.changed_date," ",l.a.createElement("button",{className:"edit-intake",onClick:function(t){return e.handleClick(t,a)}}," Edit ")),l.a.createElement("td",null,a.serving," \u2716\ufe0f  (",a.food.serving_size," g)"),l.a.createElement("td",{className:"calorie"}," ",a.food.calorie*a.serving),l.a.createElement("td",{className:"fat"}," ",(a.food.fat*a.serving).toFixed(2)," "),l.a.createElement("td",{className:"carbs"}," ",(a.food.carbs*a.serving).toFixed(2)),l.a.createElement("td",{className:"protein"}," ",(a.food.protein*a.serving).toFixed(2)),l.a.createElement("td",{className:"sugar"}," ",(a.food.sugar*a.serving).toFixed(2)),l.a.createElement("td",{className:"delete",onClick:function(t){return e.handleDeleteClick(t,a)}}," ",l.a.createElement("span",null," \u274c ")," "))})):"There is no food logged in..",l.a.createElement("tr",{className:"row"},l.a.createElement("th",{width:"10%",className:"dinner"},"Dinner")),e.state.dailyIntakes?e.state.dailyIntakes.filter((function(e){return"dinner"===e.meal_type})).map((function(a){return l.a.createElement("tr",{key:a.food.id},l.a.createElement("td",null," ",a.food.name," ",a.changed_date,l.a.createElement("button",{className:"edit-intake",onClick:function(t){return e.handleClick(t,a)}}," Edit ")," "),l.a.createElement("td",null,a.serving," \u2716\ufe0f  (",a.food.serving_size," g)"),l.a.createElement("td",{className:"calorie"}," ",a.food.calorie*a.serving),l.a.createElement("td",{className:"fat"}," ",(a.food.fat*a.serving).toFixed(2)," "),l.a.createElement("td",{className:"carbs"}," ",(a.food.carbs*a.serving).toFixed(2)),l.a.createElement("td",{className:"protein"}," ",(a.food.protein*a.serving).toFixed(2)),l.a.createElement("td",{className:"sugar"}," ",(a.food.sugar*a.serving).toFixed(2)),l.a.createElement("td",{onClick:function(t){return e.handleDeleteClick(t,a)}}," ",l.a.createElement("span",null," \u274c ")," "))})):"There is no food logged in..",l.a.createElement("tr",{className:"row"},l.a.createElement("th",{width:"10%",className:"snack"},"Snack")),e.state.dailyIntakes?e.state.dailyIntakes.filter((function(e){return"snack"===e.meal_type})).map((function(a){return l.a.createElement("tr",{key:a.food.id},l.a.createElement("td",null," ",a.food.name," ",a.changed_date," ",l.a.createElement("button",{className:"edit-intake",onClick:function(t){return e.handleClick(t,a)}}," Edit ")),l.a.createElement("td",null," ",a.serving," \u2716\ufe0f (",a.food.serving_size," g)"),l.a.createElement("td",{className:"calorie"}," ",a.food.calorie*a.serving),l.a.createElement("td",{className:"fat"}," ",(a.food.fat*a.serving).toFixed(2)," "),l.a.createElement("td",{className:"carbs"}," ",(a.food.carbs*a.serving).toFixed(2)),l.a.createElement("td",{className:"protein"}," ",(a.food.protein*a.serving).toFixed(2)),l.a.createElement("td",{className:"sugar"},"  ",(a.food.sugar*a.serving).toFixed(2)),l.a.createElement("td",{className:"deleteIntake",width:"10%",onClick:function(t){return e.handleDeleteClick(t,a)}}," ",l.a.createElement("span",null," \u274c ")," "))})):"There is no food logged in..",l.a.createElement("tr",{className:"row"}),l.a.createElement("tr",{className:"row"},l.a.createElement("th",null,"Total"),l.a.createElement("td",null,t().servings),l.a.createElement("td",{className:"calorie"},t().calories),l.a.createElement("td",{className:"fat"},t().fat.toFixed(2)),l.a.createElement("td",{className:"carbs"},t().carbs.toFixed(2)),l.a.createElement("td",{className:"protein"},t().protein.toFixed(2)),l.a.createElement("td",{className:"sugar"},t().sugar.toFixed(2))),l.a.createElement("tr",{className:"row"},l.a.createElement("th",null,"Your daily goal  "),l.a.createElement("td",null),l.a.createElement("td",{className:"calorie"},a.goal_calorie),l.a.createElement("td",{className:"fat"},a.goal_fat),l.a.createElement("td",{className:"carbs"},a.goal_carbs),l.a.createElement("td",{className:"protein"},a.goal_protein),l.a.createElement("td",{className:"sugar"},a.goal_sugar)),l.a.createElement("tr",{className:"row"},l.a.createElement("th",null,"Remaining "),l.a.createElement("td",null),n().calories<0?l.a.createElement("td",{className:"exeeded"},n().calories):l.a.createElement("td",{className:"calorie"},n().calories),n().fat<0?l.a.createElement("td",{className:"exeeded "},n().fat.toFixed(2)):l.a.createElement("td",{className:"fat"},n().fat.toFixed(2)),n().carbs<0?l.a.createElement("td",{className:"exeeded"},n().carbs.toFixed(2)):l.a.createElement("td",{className:"carbs"},n().carbs.toFixed(2)),n().protein<0?l.a.createElement("td",{className:"exeeded"},n().protein.toFixed(2)):l.a.createElement("td",{className:"protein"},n().protein.toFixed(2)),n().sugar<0?l.a.createElement("td",{className:"exeeded"},n().sugar.toFixed(2)):l.a.createElement("td",{className:"sugar"},n().sugar.toFixed(2))))))}}]),a}(n.Component),D=Object(g.b)((function(e){return{current_user:e.user}}),(function(e){return{setUser:function(a){e({type:"SET_USER",payload:a})},clearUser:function(){e({type:"CLEAR_USER"})}}}))(j),x={Login:E,Home:v,Profile:y,Edit:C,AddFood:w,FoodItem:N,DailyIntake:D},T=function(){return l.a.createElement("div",null,l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/",component:x.Home}),l.a.createElement(d.a,{exact:!0,path:"/profile",component:x.Profile}),l.a.createElement(d.a,{exact:!0,path:"/login",component:x.Login}),l.a.createElement(d.a,{exact:!0,path:"/edit",component:x.Edit}),l.a.createElement(d.a,{exact:!0,path:"/add-food",component:x.AddFood}),l.a.createElement(d.a,{exact:!0,path:"/food/:id",component:x.FoodItem}),l.a.createElement(d.a,{exact:!0,path:"/daily-intake/:date",component:x.DailyIntake}),l.a.createElement(d.a,{path:"/daily-intake",component:x.DailyIntake})))};var I=function(e){var a=Object(g.c)((function(e){return e.user}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"header"},l.a.createElement("h1",{className:"header-name"},"NutriTrack"),l.a.createElement("p",{className:"user-name"},a.name)),l.a.createElement("nav",{id:"nav-bar"},a.id?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"link-div"},l.a.createElement(b.b,{className:"link",to:"/"},"Home"),l.a.createElement(b.b,{className:"link",to:"/profile"},"Profile"),l.a.createElement(b.b,{className:"link",to:"/daily-intake"},"My daily intake"),l.a.createElement(b.b,{className:"link",to:"/add-food"},"Add Food"),l.a.createElement(b.c,{className:"link ",to:"/login"},l.a.createElement("button",{id:"logout",onClick:e.clearUser},"Logout")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"link-div"},l.a.createElement(b.b,{className:"link",to:"/"},"Home"),l.a.createElement(b.b,{className:"link",to:"/login"},"Login")))))},U=(t(41),t(42),t(43),t(44),t(45),t(46),t(47),t(48),t(49),t(50),t(51),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).clearToken=function(){localStorage.clear()},t.logOut=function(){t.props.clearUser(),t.clearToken()},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://nutritrack.herokuapp.com/profile",{headers:{Authorization:localStorage.token}}).then((function(e){return e.json()})).then((function(a){e.props.setUser(a)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{clearUser:this.logOut}),l.a.createElement(T,{logOut:this.logOut}))}}]),a}(l.a.Component)),A=Object(g.b)((function(e){return{current_user:e.user}}),(function(e){return{setUser:function(a){e({type:"SET_USER",payload:a})},clearUser:function(){e({type:"CLEAR_USER"})}}}))(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=t(17);var P=Object(L.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_USER":return n;case"CLEAR_USER":return{};default:return e}},foods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"GET_FOODS":return n;default:return e}}}),R=Object(L.c)(P);o.a.render(l.a.createElement(g.a,{store:R},l.a.createElement(b.a,null,l.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.46638c2e.chunk.js.map