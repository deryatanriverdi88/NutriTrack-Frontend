{"ast":null,"code":"import _classCallCheck from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./App.css';import Routes from'./Routes';import{connect}from'react-redux';import Nav from'./Components/Nav';import'./CSS/Home.css';import'./CSS/Nav.css';import'./CSS/DailySummary.css';import'./CSS/Profile.css';import'./CSS/Login.css';import'./CSS/AddFood.css';import'./CSS/FoodForm.css';import'./CSS/DailyIntake.css';import'./CSS/FoodItem.css';import'./CSS/EditProfile.css';import'./CSS/EditIntake.css';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.clearToken=function(){localStorage.clear();};_this.logOut=function(){_this.props.clearUser();_this.clearToken();// this.props.history.push('/login')\n};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://nutritrack.herokuapp.com/profile\",{headers:{Authorization:localStorage.token}}).then(function(res){return res.json();}).then(function(userObject){_this2.props.setUser(userObject);});}},{key:\"render\",value:function render(){//  console.log(this.props)\nreturn React.createElement(React.Fragment,null,React.createElement(Nav,{clearUser:this.logOut}),React.createElement(Routes,{logOut:this.logOut}));}}]);return App;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setUser:function setUser(userObject){dispatch({type:'SET_USER',payload:userObject});},clearUser:function clearUser(){dispatch({type:'CLEAR_USER'});}};};var mapStateToProps=function mapStateToProps(state){return{current_user:state.user};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/App.js"],"names":["React","Routes","connect","Nav","App","clearToken","localStorage","clear","logOut","props","clearUser","fetch","headers","Authorization","token","then","res","json","userObject","setUser","Component","mapDispatchToProps","dispatch","type","payload","mapStateToProps","state","current_user","user"],"mappings":"6zBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,kBAAhB,CACA,MAAO,gBAAP,CACA,MAAO,eAAP,CACA,MAAO,wBAAP,CACA,MAAO,mBAAP,CACA,MAAO,iBAAP,CACA,MAAO,mBAAP,CACA,MAAO,oBAAP,CACA,MAAO,uBAAP,CACA,MAAO,oBAAP,CACA,MAAO,uBAAP,CACA,MAAO,sBAAP,C,GAGMC,CAAAA,G,+XAeJC,U,CAAa,UAAK,CAChBC,YAAY,CAACC,KAAb,GACD,C,OAEDC,M,CAAS,UAAK,CACZ,MAAKC,KAAL,CAAWC,SAAX,GACA,MAAKL,UAAL,GAEA;AACD,C,4FAtBmB,iBAChBM,KAAK,CAAC,0CAAD,CAA6C,CAClDC,OAAO,CAAE,CACPC,aAAa,CAAEP,YAAY,CAACQ,KADrB,CADyC,CAA7C,CAAL,CAKDC,IALC,CAKI,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EALP,EAMDF,IANC,CAMI,SAAAG,UAAU,CAAI,CAClB,MAAI,CAACT,KAAL,CAAWU,OAAX,CAAmBD,UAAnB,EAED,CATC,EAUH,C,uCAaO,CACR;AACA,MACG,yCACG,oBAAC,GAAD,EAAK,SAAS,CAAE,KAAKV,MAArB,EADH,CAEG,oBAAC,MAAD,EAAQ,MAAM,CAAE,KAAKA,MAArB,EAFH,CADH,CAME,C,iBAlCeR,KAAK,CAACoB,S,EAqCzB,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAa,CACrC,MAAO,CACLH,OAAO,CAAE,iBAACD,UAAD,CAAgB,CACvBI,QAAQ,CAAC,CACLC,IAAI,CAAE,UADD,CACaC,OAAO,CAAEN,UADtB,CAAD,CAAR,CAGD,CALI,CAMLR,SAAS,CAAE,oBAAM,CAChBY,QAAQ,CAAC,CACPC,IAAI,CAAE,YADC,CAAD,CAAR,CAGA,CAVI,CAAP,CAYD,CAbF,CAeC,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjC,MAAO,CACLC,YAAY,CAAED,KAAK,CAACE,IADf,CAAP,CAGD,CAJD,CAOD,cAAe1B,CAAAA,OAAO,CAACuB,eAAD,CAAkBJ,kBAAlB,CAAP,CAA6CjB,GAA7C,CAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Routes from './Routes'\nimport { connect } from 'react-redux'\nimport Nav from './Components/Nav'\nimport './CSS/Home.css'\nimport './CSS/Nav.css'\nimport './CSS/DailySummary.css'\nimport './CSS/Profile.css'\nimport './CSS/Login.css'\nimport './CSS/AddFood.css'\nimport './CSS/FoodForm.css'\nimport './CSS/DailyIntake.css'\nimport './CSS/FoodItem.css'\nimport './CSS/EditProfile.css'\nimport './CSS/EditIntake.css'\n\n\nclass App  extends React.Component{\n\n   componentDidMount(){\n      fetch(\"https://nutritrack.herokuapp.com/profile\", {\n      headers: {\n        Authorization: localStorage.token\n      }\n    })\n    .then(res => res.json())\n    .then(userObject => {\n      this.props.setUser(userObject)\n\n    })\n  }\n \n  clearToken = () =>{\n    localStorage.clear()\n  }\n\n  logOut = () =>{\n    this.props.clearUser()\n    this.clearToken()\n    \n    // this.props.history.push('/login')\n  }\n \n render (){\n  //  console.log(this.props)\n  return (\n     <>\n        <Nav clearUser={this.logOut}/>\n        <Routes logOut={this.logOut} />\n    </>\n    )\n   }\n}\n\nconst mapDispatchToProps = (dispatch) =>{\n   return {\n     setUser: (userObject) => {\n       dispatch({\n           type: 'SET_USER', payload: userObject\n         })\n     }, \n     clearUser: () => {\n      dispatch({\n        type: 'CLEAR_USER'\n      })\n     }\n   }\n }\n \n const mapStateToProps = (state) => {\n   return {\n     current_user: state.user\n   }\n }\n \n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n"]},"metadata":{},"sourceType":"module"}