{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/Pages/Edit.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Edit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: this.props.current_user.user.username,\n      name: this.props.current_user.user.name,\n      age: this.props.current_user.user.age,\n      gender: this.props.current_user.user.gender,\n      height: this.props.current_user.user.height,\n      weight: this.props.current_user.user.weight,\n      goalCalorie: this.props.current_user.user.goal_calorie,\n      errors: ''\n    };\n\n    this.handleChange = event => {\n      console.log(event.target.value);\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleLoginSubmit = event => {\n      event.preventDefault(); //  debugger\n\n      fetch(\"http://localhost:3000/user/\".concat(this.props.current_user_user.id), {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          password: this.state.password\n        })\n      }).then(res => res.json()).then(userData => {\n        localStorage.setItem('token', userData.token);\n        console.log(userData);\n\n        if (userData.token) {\n          this.props.setUser(userData.current_user);\n          this.props.history.push(\"/profile\");\n        } else {\n          this.setState({\n            errors: userData.error\n          });\n        }\n      }).then(this.setState({\n        username: \"\",\n        password: ''\n      }));\n    };\n  }\n\n  render() {\n    console.log(this.props.current_user.user.name);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Edit Form\", React.createElement(\"form\", {\n      onSubmit: this.handleSignupSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Name :\", React.createElement(\"input\", {\n      id: \"name\",\n      name: \"name\",\n      value: this.state.name,\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Username :\", React.createElement(\"input\", {\n      id: \"username\",\n      name: \"username\",\n      value: this.state.username,\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"age\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Age:\", React.createElement(\"input\", {\n      name: \"age\",\n      id: \"age\",\n      age: \"age\",\n      value: this.state.age,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"gender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Gender :\", React.createElement(\"select\", {\n      name: \"gender\",\n      id: \"gender\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \" Select\"), React.createElement(\"option\", {\n      value: \"Female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"option\", {\n      value: \"Male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Male\"), React.createElement(\"option\", {\n      value: \"Prefered not to say\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Prefered not to say\"))), React.createElement(\"label\", {\n      htmlFor: \"weight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Weight :\", React.createElement(\"input\", {\n      id: \"weight\",\n      name: \"weight\",\n      value: this.state.weight,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Height :\", React.createElement(\"input\", {\n      id: \"height\",\n      name: \"height\",\n      value: this.state.height,\n      type: \"float\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"goalCalorie\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Daily goal calorie :\", React.createElement(\"input\", {\n      id: \"goalCalorie\",\n      name: \"goalCalorie\",\n      value: this.state.goalCalorie,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Password :\", React.createElement(\"input\", {\n      id: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      type: \"password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setUser: userObject => {\n      dispatch({\n        type: 'SET_USER',\n        payload: userObject\n      });\n    }\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    current_user: state.user\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Edit);","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/Pages/Edit.js"],"names":["React","Component","connect","Edit","state","username","props","current_user","user","name","age","gender","height","weight","goalCalorie","goal_calorie","errors","handleChange","event","console","log","target","value","setState","handleLoginSubmit","preventDefault","fetch","current_user_user","id","method","headers","body","JSON","stringify","password","then","res","json","userData","localStorage","setItem","token","setUser","history","push","error","render","handleSignupSubmit","mapDispatchToProps","dispatch","userObject","type","payload","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\n\n\nclass Edit extends Component {\n    \n state = {\n   \n    username: this.props.current_user.user.username,\n    name: this.props.current_user.user.name,\n    age: this.props.current_user.user.age,\n    gender: this.props.current_user.user.gender,\n    height: this.props.current_user.user.height,\n    weight:this.props.current_user.user.weight,\n    goalCalorie: this.props.current_user.user.goal_calorie,\n    errors: ''\n }\n\n handleChange = (event) => {\n    console.log(event.target.value)\n    this.setState({\n      [event.target.name] : event.target.value\n    })\n  }\n\n  handleLoginSubmit = (event) => {\n\n    event.preventDefault()\n   //  debugger\n    fetch(`http://localhost:3000/user/${this.props.current_user_user.id}`, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\" : \"application/json\",\n        \"Accept\" : \"application/json\"\n      }, \n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      })\n    })\n    .then(res => res.json())\n    .then(userData =>{\n      localStorage.setItem('token', userData.token)\n      console.log(userData)\n       if(userData.token){\n         this.props.setUser(userData.current_user)\n         this.props.history.push(`/profile`)\n \n       }  else {\n         this.setState({\n           errors: userData.error\n         })\n       }\n    })\n    .then(\n      this.setState({\n       username: \"\",\n       password: ''\n      })\n    )\n }\n render() {\n     console.log(this.props.current_user.user.name)\n     \n  return(\n   <div>\n       Edit Form\n    <form onSubmit={this.handleSignupSubmit}>\n    <label htmlFor=\"name\">\n      Name :\n       <input \n         id=\"name\"\n         name=\"name\"\n         value={this.state.name}\n         type=\"text\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"username\">\n      Username : \n       <input \n         id=\"username\"\n         name=\"username\"\n         value={this.state.username}\n         type=\"text\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"age\">\n      Age: \n       <input \n         name=\"age\"\n         id=\"age\"\n         age=\"age\"\n         value={this.state.age}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"gender\">\n      Gender :\n      <select name=\"gender\" id=\"gender\"\n      onChange={this.handleChange}>\n        <option> Select</option>\n         <option value=\"Female\">Female</option>\n         <option value=\"Male\">Male</option>\n         <option value=\"Prefered not to say\">Prefered not to say</option>\n      </select>\n    </label>\n    <label htmlFor=\"weight\" >\n      Weight : \n       <input \n         id=\"weight\"\n         name=\"weight\"\n         value={this.state.weight}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"height\">\n      Height : \n       <input \n         id=\"height\"\n         name=\"height\"\n         value={this.state.height}\n         type=\"float\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"goalCalorie\" >\n      Daily goal calorie : \n       <input \n         id=\"goalCalorie\"\n         name=\"goalCalorie\"\n         value={this.state.goalCalorie}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"password\" >\n      Password : \n       <input \n         id=\"password\"\n         name=\"password\"\n         value={this.state.password}\n         type=\"password\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <input type=\"submit\"/>\n    </form>\n   </div>\n    )\n   }\n }\n\n\n\n const mapDispatchToProps = (dispatch) =>{\n    return {\n      setUser: (userObject) => {\n        dispatch({\n            type: 'SET_USER', payload: userObject\n          })\n      }\n    }\n  }\n  \n  const mapStateToProps = (state) => {\n    return {\n      current_user: state.user\n    }\n  }\n  \n  \n  export default connect(mapStateToProps, mapDispatchToProps) (Edit)"]},"metadata":{},"sourceType":"module"}