{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/Pages/Edit.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Edit extends Component {\n  constructor(payload = null) {}\n\n  static getDerivedStateFromProps(props, state) {\n    if (state.id !== props.current_user.id) {\n      return props.current_user;\n    }\n  }\n\n  render() {\n    console.log(\"state ------\", this.state); //  console.log(this.props.current_user)\n\n    const _this$state = this.state,\n          name = _this$state.name,\n          username = _this$state.username,\n          age = _this$state.age,\n          weight = _this$state.weight,\n          height = _this$state.height,\n          goalCalorie = _this$state.goalCalorie;\n    return React.createElement(React.Fragment, null, this.props.current_user.id ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Edit Form\", React.createElement(\"form\", {\n      onSubmit: this.handleLoginSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Name :\", React.createElement(\"input\", {\n      id: \"name\",\n      name: \"name\",\n      value: name,\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Username :\", React.createElement(\"input\", {\n      id: \"username\",\n      name: \"username\",\n      value: username,\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"age\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Age:\", React.createElement(\"input\", {\n      name: \"age\",\n      id: \"age\",\n      age: \"age\",\n      value: age,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"gender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Gender :\", React.createElement(\"select\", {\n      name: \"gender\",\n      id: \"gender\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \" Select\"), React.createElement(\"option\", {\n      value: \"Female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"option\", {\n      value: \"Male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Male\"), React.createElement(\"option\", {\n      value: \"Prefered not to say\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Prefered not to say\"))), React.createElement(\"label\", {\n      htmlFor: \"weight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Weight :\", React.createElement(\"input\", {\n      id: \"weight\",\n      name: \"weight\",\n      value: weight,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Height :\", React.createElement(\"input\", {\n      id: \"height\",\n      name: \"height\",\n      value: height,\n      type: \"float\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"goalCalorie\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Daily goal calorie :\", React.createElement(\"input\", {\n      id: \"goalCalorie\",\n      name: \"goalCalorie\",\n      value: goalCalorie,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }))) : null);\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setUser: userObject => {\n      dispatch({\n        type: 'SET_USER',\n        payload: userObject\n      });\n    }\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    current_user: state.user\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Edit);","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/Pages/Edit.js"],"names":["React","Component","connect","Edit","constructor","payload","getDerivedStateFromProps","props","state","id","current_user","render","console","log","name","username","age","weight","height","goalCalorie","handleLoginSubmit","handleChange","mapDispatchToProps","dispatch","setUser","userObject","type","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\n\n\nclass Edit extends Component {\n    constructor(payload: any = null) { }\n    \n    \n state = {}\n\n static getDerivedStateFromProps(props, state) {\n     if(state.id !== props.current_user.id) {\n        return props.current_user\n     }\n }\n\n handleChange = (event) => {\n    console.log(event.target.value)\n    this.setState({\n      [event.target.name] : event.target.value\n    })\n  }\n\n  handleLoginSubmit = (event) => {\n    // debugger\n    event.preventDefault()\n   //  debugger\n    fetch(`http://localhost:3000/users/${this.props.current_user.id}`, {\n      method: 'PATCH',\n      headers: {\n        \"Content-Type\" : \"application/json\",\n        \"Accept\" : \"application/json\"\n      }, \n      body: JSON.stringify({\n        name: this.state.name,\n        username: this.state.username,\n        gender: this.state.username,\n        age: this.state.age,\n        weight: this.state.weight,\n        height: this.state.height,\n        goal_calorie: this.state.goalCalorie\n      })\n    })\n    .then(res => res.json())\n    .then(userData =>{\n    //   localStorage.setItem('token', userData.token)\n      console.log(userData)\n    //    if(userData){\n         this.props.setUser(userData.current_user)\n         this.props.history.push(`/profile`)\n \n    //    }  else {\n    //      this.setState({\n    //        errors: userData.error\n    //      })\n    //    }\n    })\n    // .then(\n    //   this.setState({\n    //    username: \"\",\n    //    password: ''\n    //   })\n    // )\n }\n render(){\n    console.log(\"state ------\", this.state)\n    //  console.log(this.props.current_user)\n     const {name, username, age, weight, height, goalCalorie} = this.state\n  return(\n      <>\n      {this.props.current_user.id  ? \n     \n        <div>\n       Edit Form\n    <form onSubmit={this.handleLoginSubmit}>\n    <label htmlFor=\"name\">\n      Name :\n       <input \n         id=\"name\"\n         name=\"name\"\n         value={name}\n         type=\"text\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"username\">\n      Username : \n       <input \n         id=\"username\"\n         name=\"username\"\n         value={username}\n         type=\"text\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"age\">\n      Age: \n       <input \n         name=\"age\"\n         id=\"age\"\n         age=\"age\"\n         value={age}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"gender\">\n      Gender :\n      <select name=\"gender\" id=\"gender\"\n      onChange={this.handleChange}>\n        <option> Select</option>\n         <option value=\"Female\">Female</option>\n         <option value=\"Male\">Male</option>\n         <option value=\"Prefered not to say\">Prefered not to say</option>\n      </select>\n    </label>\n    <label htmlFor=\"weight\" >\n      Weight : \n       <input \n         id=\"weight\"\n         name=\"weight\"\n         value={weight}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"height\">\n      Height : \n       <input \n         id=\"height\"\n         name=\"height\"\n         value={height}\n         type=\"float\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"goalCalorie\" >\n      Daily goal calorie : \n       <input \n         id=\"goalCalorie\"\n         name=\"goalCalorie\"\n         value={goalCalorie}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n  \n    <input type=\"submit\"/>\n    </form>\n   </div> : null\n     }\n     </>\n   \n    )\n   }\n }\n\n\n\n const mapDispatchToProps = (dispatch) =>{\n    return {\n      setUser: (userObject) => {\n        dispatch({\n            type: 'SET_USER', payload: userObject\n          })\n      }\n    }\n  }\n  \n  const mapStateToProps = (state) => {\n    return {\n      current_user: state.user\n    }\n  }\n  \n  \n  export default connect(mapStateToProps, mapDispatchToProps) (Edit)"]},"metadata":{},"sourceType":"module"}