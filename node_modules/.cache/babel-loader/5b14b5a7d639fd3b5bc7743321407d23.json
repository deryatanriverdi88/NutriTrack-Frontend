{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/Pages/Edit.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Edit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      errors: ''\n    };\n\n    this.handleChange = event => {\n      console.log(event.target.value);\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleEditSubmit = event => {\n      // debugger\n      event.preventDefault(); //  debugger\n\n      fetch(\"http://localhost:3000/users/\".concat(this.props.current_user.id), {\n        method: 'PATCH',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: this.state.name,\n          username: this.state.username,\n          gender: this.state.gender,\n          age: this.state.age,\n          weight: this.state.weight,\n          height: this.state.height,\n          goal_calorie: this.state.goal_calorie,\n          image: this.state.image,\n          goal_carbs: this.state.goal_carbs,\n          goal_fat: this.state.goal_fat,\n          goal_sugar: this.state.goal_sugar,\n          goal_protein: this.state.goal_protein\n        })\n      }).then(res => res.json()).then(userData => {\n        //   localStorage.setItem('token', userData.token)\n        console.log(userData);\n\n        if (userData) {\n          // debugger\n          this.props.setUser(userData);\n          this.props.history.push(\"/profile\");\n        } else {\n          this.setState({\n            errors: userData.error[0]\n          });\n        }\n      });\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (state.id !== props.current_user.id) {\n      return props.current_user;\n    }\n  }\n\n  render() {\n    // console.log(\"state ------\", this.state)\n    //  console.log(this.props.current_user)\n    const _this$state = this.state,\n          name = _this$state.name,\n          username = _this$state.username,\n          age = _this$state.age,\n          weight = _this$state.weight,\n          height = _this$state.height,\n          goal_calorie = _this$state.goal_calorie,\n          goal_carbs = _this$state.goal_carbs,\n          goal_fat = _this$state.goal_fat,\n          goal_sugar = _this$state.goal_sugar,\n          goal_protein = _this$state.goal_protein,\n          image = _this$state.image;\n    console.log(this.state);\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"edit-profile-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.props.current_user.id ? React.createElement(\"div\", {\n      className: \"edit-profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \" \\u274C \"), React.createElement(\"form\", {\n      className: \"inputs\",\n      onSubmit: this.handleEditSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Name :\"), React.createElement(\"input\", {\n      id: \"name\",\n      name: \"name\",\n      value: name,\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Username : \"), React.createElement(\"input\", {\n      id: \"username\",\n      name: \"username\",\n      value: username,\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"age\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \" Age: \"), React.createElement(\"input\", {\n      name: \"age\",\n      id: \"age\",\n      age: \"age\",\n      value: age,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Image :\"), React.createElement(\"input\", {\n      id: \"image\",\n      name: \"image\",\n      value: image,\n      type: \"text\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"gender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Gender :\"), React.createElement(\"select\", {\n      name: \"gender\",\n      id: \"gender\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \" Select\"), React.createElement(\"option\", {\n      value: \"Female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"option\", {\n      value: \"Male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Male\"), React.createElement(\"option\", {\n      value: \"Prefered not to say\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Prefered not to say\"))), React.createElement(\"label\", {\n      htmlFor: \"weight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Weight :\"), React.createElement(\"input\", {\n      id: \"weight\",\n      name: \"weight\",\n      value: weight,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Height : \"), React.createElement(\"input\", {\n      id: \"height\",\n      name: \"height\",\n      value: height,\n      type: \"float\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"goalCalorie\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Daily goal calorie : \"), React.createElement(\"input\", {\n      id: \"goalCalorie\",\n      name: \"goal_calorie\",\n      value: goal_calorie,\n      type: \"number\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"goalCarbs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Daily carbs goal : \"), React.createElement(\"input\", {\n      id: \"goalCarbs\",\n      name: \"goal_carbs\",\n      value: goal_carbs,\n      type: \"float\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"goalFat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Daily fat goal : \"), React.createElement(\"input\", {\n      id: \"goalFat\",\n      name: \"goal_fat\",\n      value: goal_fat,\n      type: \"float\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"goalSugar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Daily sugar goal :\"), React.createElement(\"input\", {\n      id: \"goalSugar\",\n      name: \"goal_sugar\",\n      value: goal_sugar,\n      type: \"float\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      htmlFor: \"goalProtein\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Daily protein goal : \"), React.createElement(\"input\", {\n      id: \"goalProtein\",\n      name: \"goal_protein\",\n      value: goal_protein,\n      type: \"float\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }))) : null));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setUser: userObject => {\n      dispatch({\n        type: 'SET_USER',\n        payload: userObject\n      });\n    }\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    current_user: state.user\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Edit);","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/Pages/Edit.js"],"names":["React","Component","connect","Edit","state","errors","handleChange","event","console","log","target","value","setState","name","handleEditSubmit","preventDefault","fetch","props","current_user","id","method","headers","body","JSON","stringify","username","gender","age","weight","height","goal_calorie","image","goal_carbs","goal_fat","goal_sugar","goal_protein","then","res","json","userData","setUser","history","push","error","getDerivedStateFromProps","render","mapDispatchToProps","dispatch","userObject","type","payload","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\n\n\nclass Edit extends Component {\n   \n    \n    \n state = {\n     errors: ''\n }\n\n static getDerivedStateFromProps(props, state) {\n     if(state.id !== props.current_user.id) {\n        return props.current_user\n     }\n }\n\n handleChange = (event) => {\n    console.log(event.target.value)\n\n    this.setState({\n      [event.target.name] : event.target.value\n    })\n  }\n\n  handleEditSubmit = (event) => {\n    // debugger\n    event.preventDefault()\n   //  debugger\n    fetch(`http://localhost:3000/users/${this.props.current_user.id}`, {\n      method: 'PATCH',\n      headers: {\n        \"Content-Type\" : \"application/json\",\n        \"Accept\" : \"application/json\"\n      }, \n      body: JSON.stringify({\n        name: this.state.name,\n        username: this.state.username,\n        gender: this.state.gender,\n        age: this.state.age,\n        weight: this.state.weight,\n        height: this.state.height,\n        goal_calorie: this.state.goal_calorie,\n        image: this.state.image,\n        goal_carbs: this.state.goal_carbs,\n        goal_fat: this.state.goal_fat,\n        goal_sugar: this.state.goal_sugar,\n        goal_protein: this.state.goal_protein\n      })\n    })\n    .then(res => res.json())\n    .then(userData =>{\n    //   localStorage.setItem('token', userData.token)\n      console.log(userData)\n       if(userData){\n        // debugger\n         this.props.setUser(userData)\n         this.props.history.push(`/profile`)\n \n       }  else {\n         this.setState({\n           errors: userData.error[0]\n         })\n       }\n    })\n    \n }\n render(){\n    // console.log(\"state ------\", this.state)\n    //  console.log(this.props.current_user)\n   \n  const {name, username, age, weight, height, goal_calorie, goal_carbs, goal_fat, goal_sugar, goal_protein, image} = this.state\n  console.log(this.state)\n  return(\n      <>\n      <div className=\"edit-profile-div\">\n       \n      {this.props.current_user.id  ? \n     \n        <div className=\"edit-profile\">\n    <button > ❌ </button>\n    <form className=\"inputs\" onSubmit={this.handleEditSubmit}>\n    <label htmlFor=\"name\">\n      <span>Name :</span>\n       <input \n         id=\"name\"\n         name=\"name\"\n         value={name}\n         type=\"text\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"username\">\n      <span>Username : </span>\n       <input \n         id=\"username\"\n         name=\"username\"\n         value={username}\n         type=\"text\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"age\">\n     <span> Age: </span>\n       <input \n         name=\"age\"\n         id=\"age\"\n         age=\"age\"\n         value={age}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"image\">\n      <span>Image :</span>\n        <input \n          id=\"image\"\n          name=\"image\"\n          value={image}\n          type=\"text\"\n          onChange={this.handleChange}\n        />\n    </label>\n    <label htmlFor=\"gender\">\n      <span>Gender :</span>\n      <select name=\"gender\" id=\"gender\"\n      onChange={this.handleChange}>\n        <option> Select</option>\n         <option value=\"Female\">Female</option>\n         <option value=\"Male\">Male</option>\n         <option value=\"Prefered not to say\">Prefered not to say</option>\n      </select>\n    </label>\n    <label htmlFor=\"weight\" >\n      <span>Weight :</span> \n       <input \n         id=\"weight\"\n         name=\"weight\"\n         value={weight}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"height\">\n      <span>Height : </span>\n       <input \n         id=\"height\"\n         name=\"height\"\n         value={height}\n         type=\"float\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"goalCalorie\" >\n      <span>Daily goal calorie : </span>\n       <input \n         id=\"goalCalorie\"\n         name=\"goal_calorie\"\n         value={goal_calorie}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n\n    <label htmlFor=\"goalCarbs\" >\n      <span>Daily carbs goal : </span>\n       <input \n         id=\"goalCarbs\"\n         name=\"goal_carbs\"\n         value={goal_carbs}\n         type=\"float\"\n         onChange={this.handleChange}\n       />\n    </label>\n\n    <label htmlFor=\"goalFat\" >\n      <span>Daily fat goal : </span>\n       <input \n         id=\"goalFat\"\n         name=\"goal_fat\"\n         value={goal_fat}\n         type=\"float\"\n         onChange={this.handleChange}\n       />\n    </label>\n   \n    <label htmlFor=\"goalSugar\" >\n      <span>Daily sugar goal :</span> \n       <input \n         id=\"goalSugar\"\n         name=\"goal_sugar\"\n         value={goal_sugar}\n         type=\"float\"\n         onChange={this.handleChange}\n       />\n    </label>\n\n    <label htmlFor=\"goalProtein\" >\n      <span>Daily protein goal : </span>\n       <input \n         id=\"goalProtein\"\n         name=\"goal_protein\"\n         value={goal_protein}\n         type=\"float\"\n         onChange={this.handleChange}\n       />\n    </label>\n    \n  \n    <input type=\"submit\" id=\"submit\"/>\n    </form>\n   </div> : null\n     }\n     </div>\n     </>\n   \n    )\n   }\n }\n\n\n\n const mapDispatchToProps = (dispatch) =>{\n    return {\n      setUser: (userObject) => {\n        dispatch({\n            type: 'SET_USER', payload: userObject\n          })\n      }\n    }\n  }\n  \n  const mapStateToProps = (state) => {\n    return {\n      current_user: state.user\n    }\n  }\n  \n  \n  export default connect(mapStateToProps, mapDispatchToProps) (Edit)"]},"metadata":{},"sourceType":"module"}