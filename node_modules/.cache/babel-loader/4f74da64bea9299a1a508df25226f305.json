{"ast":null,"code":"import _classCallCheck from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import FoodForm from'../Components/FoodForm';var AddFood=/*#__PURE__*/function(_Component){_inherits(AddFood,_Component);function AddFood(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddFood);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddFood)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={searchValue:\"\",foodForm:false,food:{}};_this.handleChange=function(e){console.log(e.target.value);_this.setState({searchValue:e.target.value});};_this.handleClick=function(foodItem){console.log('click');_this.setState({foodForm:!_this.state.foodForm,food:foodItem});};return _this;}_createClass(AddFood,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('https://nutritrack.herokuapp.com/foods').then(function(res){return res.json();}).then(function(foodsData){// console.log(foodsData)\n_this2.props.getFoods(foodsData);});}//  searchedFoods = () =>{\n//    if ( this.props.foods ) {\n//        return this.props.foods.filter(food => {\n//            if(this.state.searchValue !== \"\"){\n//                return food.name.toLowerCase().includes(this.state.searchValue.toLocaleLowerCase())\n//            }\n//        })\n//    } else {\n//        return  <> <p>No food</p></>\n//    }\n//  }\n},{key:\"render\",value:function render(){var _this3=this;// console.log(this.state.foodView, this.state.food)\n// console.log(this.state.searchValue)\n// console.log(this.props.foods)\n// console.log(this.props)\nvar searchedFoods=this.props.foods.filter(function(food){//    debugger\nif(_this3.state.searchValue!==\"\"){return food.name.toLowerCase().includes(_this3.state.searchValue.toLowerCase());}});return React.createElement(\"div\",{className:\"add-food-div\"},React.createElement(\"form\",{className:\"add-food-form\"},React.createElement(\"label\",null,\"Search\"),React.createElement(\"input\",{className:\"add-food-input\",type:\"text\",onChange:this.handleChange})),React.createElement(\"ul\",{className:\"foods\"},this.props.foods?searchedFoods.map(function(food){return React.createElement(\"li\",{key:food.id,onClick:function onClick(){return _this3.handleClick(food);}},food.name);}):\"Foods are loading...\"),this.state.foodForm?React.createElement(React.Fragment,null,React.createElement(FoodForm,{food:this.state.food,handleClick:this.handleClick})):React.createElement(React.Fragment,null));}}]);return AddFood;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getFoods:function getFoods(foodObject){dispatch({type:'GET_FOODS',payload:foodObject});}};};var mapStateToProps=function mapStateToProps(state){return{foods:state.foods};};export default connect(mapStateToProps,mapDispatchToProps)(AddFood);","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/Pages/AddFood.js"],"names":["React","Component","connect","FoodForm","AddFood","state","searchValue","foodForm","food","handleChange","e","console","log","target","value","setState","handleClick","foodItem","fetch","then","res","json","foodsData","props","getFoods","searchedFoods","foods","filter","name","toLowerCase","includes","map","id","mapDispatchToProps","dispatch","foodObject","type","payload","mapStateToProps"],"mappings":"6zBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,C,GAEMC,CAAAA,O,mYACLC,K,CAAQ,CACJC,WAAW,CAAC,EADR,CAEJC,QAAQ,CAAE,KAFN,CAGJC,IAAI,CAAE,EAHF,C,OAMRC,Y,CAAe,SAACC,CAAD,CAAO,CAClBC,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAArB,EACA,MAAKC,QAAL,CAAc,CACVT,WAAW,CAAEI,CAAC,CAACG,MAAF,CAASC,KADZ,CAAd,EAKH,C,OAEDE,W,CAAc,SAACC,QAAD,CAAc,CACxBN,OAAO,CAACC,GAAR,CAAY,OAAZ,EACA,MAAKG,QAAL,CAAc,CACVR,QAAQ,CAAE,CAAC,MAAKF,KAAL,CAAWE,QADZ,CAEVC,IAAI,CAAES,QAFI,CAAd,EAIH,C,gGAEkB,iBAChBC,KAAK,CAAC,wCAAD,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EADT,EAECF,IAFD,CAEM,SAAAG,SAAS,CAAI,CACf;AACA,MAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBF,SAApB,EACH,CALD,EAMH,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;uCAGU,iBAEV;AACA;AACA;AACA;AAEG,GAAMG,CAAAA,aAAa,CACd,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwB,SAAAnB,IAAI,CAAI,CACpC;AACK,GAAI,MAAI,CAACH,KAAL,CAAWC,WAAX,GAA2B,EAA/B,CAAkC,CAC/B,MAAOE,CAAAA,IAAI,CAACoB,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiC,MAAI,CAACzB,KAAL,CAAWC,WAAX,CAAuBuB,WAAvB,EAAjC,CAAP,CACF,CACN,CALI,CADL,CAOD,MACC,4BAAK,SAAS,CAAC,cAAf,EACI,4BAAM,SAAS,CAAC,eAAhB,EACI,0CADJ,CAIG,6BAAO,SAAS,CAAC,gBAAjB,CAAkC,IAAI,CAAC,MAAvC,CAA8C,QAAQ,CAAE,KAAKpB,YAA7D,EAJH,CADJ,CASI,0BAAI,SAAS,CAAC,OAAd,EAGU,KAAKc,KAAL,CAAWG,KAAX,CACDD,aAAa,CAACM,GAAd,CAAkB,SAAAvB,IAAI,CAAI,CACtB,MAAO,2BAAI,GAAG,CAAEA,IAAI,CAACwB,EAAd,CAAkB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAChB,WAAL,CAAiBR,IAAjB,CAAN,EAA3B,EACFA,IAAI,CAACoB,IADH,CAAP,CAGH,CAJD,CADC,CAKI,sBARd,CATJ,CAuBQ,KAAKvB,KAAL,CAAWE,QAAX,CACA,wCACS,oBAAC,QAAD,EAAU,IAAI,CAAE,KAAKF,KAAL,CAAWG,IAA3B,CAAiC,WAAW,CAAE,KAAKQ,WAAnD,EADT,CADA,CAKA,wCA5BR,CADD,CAoCE,C,qBAjGkBf,S,EAoGrB,GAAMgC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAa,CACrC,MAAO,CACLV,QAAQ,CAAE,kBAACW,UAAD,CAAgB,CACxBD,QAAQ,CAAC,CACLE,IAAI,CAAE,WADD,CACcC,OAAO,CAAEF,UADvB,CAAD,CAAR,CAGD,CALI,CAAP,CAOD,CARF,CAUC,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACjC,KAAD,CAAW,CACjC,MAAO,CACNqB,KAAK,CAAErB,KAAK,CAACqB,KADP,CAAP,CAGD,CAJD,CAOA,cAAexB,CAAAA,OAAO,CAACoC,eAAD,CAAkBL,kBAAlB,CAAP,CAA8C7B,OAA9C,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport FoodForm from '../Components/FoodForm'\n\nclass AddFood extends Component {\n state = {\n     searchValue:\"\",\n     foodForm: false,\n     food: {}\n }\n\n handleChange = (e) => {\n     console.log(e.target.value)\n     this.setState({\n         searchValue: e.target.value\n         \n     })\n\n }\n\n handleClick = (foodItem) => {\n     console.log('click')\n     this.setState({\n         foodForm: !this.state.foodForm,\n         food: foodItem\n     })\n }\n\n componentDidMount(){\n    fetch('https://nutritrack.herokuapp.com/foods')\n    .then(res=>res.json())\n    .then(foodsData => {\n        // console.log(foodsData)\n        this.props.getFoods(foodsData)\n    })\n}\n\n\n//  searchedFoods = () =>{\n//    if ( this.props.foods ) {\n//        return this.props.foods.filter(food => {\n//            if(this.state.searchValue !== \"\"){\n//                return food.name.toLowerCase().includes(this.state.searchValue.toLocaleLowerCase())\n//            }\n//        })\n//    } else {\n//        return  <> <p>No food</p></>\n//    }\n//  }\n\n\n render() {\n\n// console.log(this.state.foodView, this.state.food)\n// console.log(this.state.searchValue)\n// console.log(this.props.foods)\n// console.log(this.props)\n\n   const searchedFoods = \n        this.props.foods.filter(food => {\n    //    debugger\n         if (this.state.searchValue !== \"\"){\n            return food.name.toLowerCase().includes(this.state.searchValue.toLowerCase())\n         } \n   })\n  return(\n   <div className=\"add-food-div\" >\n       <form className=\"add-food-form\">\n           <label>\n               Search\n           </label>\n          <input className=\"add-food-input\" type=\"text\" onChange={this.handleChange}/>\n\n       </form>\n\n       <ul className=\"foods\">\n\n\n            {    this.props.foods ?\n                searchedFoods.map(food => {\n                    return <li key={food.id} onClick={() => this.handleClick(food)}>\n                        {food.name}\n                    </li>\n                }) : \"Foods are loading...\"\n            }\n            \n       </ul>\n\n       {\n           this.state.foodForm ? \n           <>\n                    <FoodForm food={this.state.food} handleClick={this.handleClick} />\n                \n           </> : \n           <>\n           </>\n       }\n\n\n   </div>\n    )\n   }\n }\n\n const mapDispatchToProps = (dispatch) =>{\n    return {\n      getFoods: (foodObject) => {\n        dispatch({\n            type: 'GET_FOODS', payload: foodObject\n          })\n      }\n    }\n  }\n  \n  const mapStateToProps = (state) => {\n    return {\n     foods: state.foods\n    }\n  }\n  \n\n  export default connect(mapStateToProps, mapDispatchToProps) (AddFood)"]},"metadata":{},"sourceType":"module"}