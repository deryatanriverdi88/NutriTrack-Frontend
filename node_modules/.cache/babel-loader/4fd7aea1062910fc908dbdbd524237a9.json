{"ast":null,"code":"import _defineProperty from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={username:'',password:'',name:'',age:null,image:\"https://images.unsplash.com/photo-1549297161-14f79605a74c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",gender:\"\",height:null,weight:null,goalCalorie:null,errors:'',loginOn:true};_this.loginForm=function(){return React.createElement(\"form\",{className:\"inputs\",onSubmit:_this.handleLoginSubmit},React.createElement(\"label\",{htmlFor:\"username\"},React.createElement(\"span\",null,\"Username\"),React.createElement(\"input\",{type:\"text\",id:\"username\",value:_this.state.username,name:\"username\",onChange:_this.handleChange})),React.createElement(\"label\",{htmlFor:\"password\"},React.createElement(\"span\",null,\"Password :\"),React.createElement(\"input\",{type:\"password\",id:\"password\",value:_this.state.password,name:\"password\",onChange:_this.handleChange})),React.createElement(\"input\",{type:\"submit\",id:\"submit\"}));};_this.signupForm=function(){return React.createElement(\"form\",{className:\"inputs\",onSubmit:_this.handleSignupSubmit},React.createElement(\"label\",{htmlFor:\"name\"},React.createElement(\"span\",null,\" Name :\"),React.createElement(\"input\",{id:\"name\",name:\"name\",value:_this.state.name,type:\"text\",onChange:_this.handleChange})),React.createElement(\"label\",{htmlFor:\"username\"},React.createElement(\"span\",null,\" Username :\"),React.createElement(\"input\",{id:\"username\",name:\"username\",value:_this.state.username,type:\"text\",onChange:_this.handleChange})),React.createElement(\"label\",{htmlFor:\"age\"},React.createElement(\"span\",null,\"Age: \"),React.createElement(\"input\",{name:\"age\",id:\"age\",age:\"age\",value:_this.state.age,type:\"number\",onChange:_this.handleChange})),React.createElement(\"label\",{htmlFor:\"image\"},React.createElement(\"span\",null,\"Image :\"),React.createElement(\"input\",{id:\"image\",name:\"image\",value:_this.state.image,type:\"text\",onChange:_this.handleChange})),React.createElement(\"label\",{htmlFor:\"gender\"},React.createElement(\"span\",null,\"Gender :\"),React.createElement(\"select\",{name:\"gender\",id:\"gender\",onChange:_this.handleChange},React.createElement(\"option\",null,\" Select\"),React.createElement(\"option\",{value:\"Female\"},\"Female\"),React.createElement(\"option\",{value:\"Male\"},\"Male\"),React.createElement(\"option\",{value:\"Prefered not to say\"},\"Prefered not to say\"))),React.createElement(\"label\",{htmlFor:\"weight\"},React.createElement(\"span\",null,\"Weight : \"),React.createElement(\"input\",{id:\"weight\",name:\"weight\",value:_this.state.weight,type:\"number\",onChange:_this.handleChange})),React.createElement(\"label\",{htmlFor:\"height\"},React.createElement(\"span\",null,\"Height : \"),React.createElement(\"input\",{id:\"height\",name:\"height\",value:_this.state.height,type:\"float\",onChange:_this.handleChange})),React.createElement(\"label\",{htmlFor:\"goalCalorie\"},React.createElement(\"span\",null,\"Daily goal calorie : \"),React.createElement(\"input\",{id:\"goalCalorie\",name:\"goalCalorie\",value:_this.state.goalCalorie,type:\"number\",onChange:_this.handleChange})),React.createElement(\"label\",{htmlFor:\"password\"},React.createElement(\"span\",null,\"Password : \"),React.createElement(\"input\",{id:\"password\",name:\"password\",value:_this.state.password,type:\"password\",onChange:_this.handleChange})),React.createElement(\"input\",{type:\"submit\",id:\"submit\"}));};_this.handleChange=function(event){// console.log(event.target.value)\n_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleClick=function(){_this.setState({loginOn:!_this.state.loginOn});};_this.handleLoginSubmit=function(event){event.preventDefault();//  debugger\nfetch('https://nutritrack.herokuapp.com/login',{method:'POST',headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({username:_this.state.username,password:_this.state.password})}).then(function(res){return res.json();}).then(function(userData){localStorage.setItem('token',userData.token);console.log(userData);if(userData.token){_this.props.setUser(userData.current_user);_this.props.history.push(\"/\");}else{_this.setState({errors:userData.error});}});};_this.handleSignupSubmit=function(event){event.preventDefault();fetch(\"https://nutritrack.herokuapp.com/signup\",{method:\"POST\",headers:{'Content-Type':\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify({name:_this.state.name,username:_this.state.username,age:_this.state.age,gender:_this.state.gender,weight:_this.state.weight,height:_this.state.height,goal_calorie:_this.state.goalCalorie,password:_this.state.password,image:_this.state.image})}).then(function(res){return res.json();}).then(function(userData){// console.log(userData)\nlocalStorage.setItem('token',userData.token);if(userData.token){// debugger\n_this.props.setUser(userData.current_user);_this.props.history.push(\"/\");}else{_this.setState({errors:userData.error});}});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){//  console.log(this.props.history)\n//  console.log(this.props.current_user)\nreturn React.createElement(\"div\",{className:\"login-container\"},React.createElement(\"div\",{className:\"login-form\"},this.state.errors,React.createElement(\"p\",null,this.state.loginOn?\"Don't have an account yet?\":\"I have an account\",React.createElement(\"b\",{onClick:this.handleClick},this.state.loginOn?React.createElement(\"span\",null,\"Sign Up!\"):React.createElement(\"span\",null,\"Login!\"))),this.state.loginOn?this.loginForm():this.signupForm()));}}]);return Login;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setUser:function setUser(userObject){dispatch({type:'SET_USER',payload:userObject});}};};var mapStateToProps=function mapStateToProps(state){return{current_user:state.user};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/flatironschool/Desktop/Projects/NutriTrack-App(Mod-5)/Frontend-NutriTrack/src/Pages/Login.js"],"names":["React","Component","connect","Login","state","username","password","name","age","image","gender","height","weight","goalCalorie","errors","loginOn","loginForm","handleLoginSubmit","handleChange","signupForm","handleSignupSubmit","event","setState","target","value","handleClick","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","userData","localStorage","setItem","token","console","log","props","setUser","current_user","history","push","error","goal_calorie","mapDispatchToProps","dispatch","userObject","type","payload","mapStateToProps","user"],"mappings":"k+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,C,GAIMC,CAAAA,K,2XACLC,K,CAAQ,CAEJC,QAAQ,CAAE,EAFN,CAGJC,QAAQ,CAAE,EAHN,CAIJC,IAAI,CAAE,EAJF,CAKJC,GAAG,CAAE,IALD,CAMJC,KAAK,CAAE,0GANH,CAOJC,MAAM,CAAE,EAPJ,CAQJC,MAAM,CAAE,IARJ,CASJC,MAAM,CAAE,IATJ,CAUJC,WAAW,CAAE,IAVT,CAWJC,MAAM,CAAE,EAXJ,CAYJC,OAAO,CAAE,IAZL,C,OAeTC,S,CAAY,UAAM,CAChB,MAEO,6BAAO,SAAS,CAAC,QAAjB,CAA0B,QAAQ,CAAE,MAAKC,iBAAzC,EAEE,6BAAO,OAAO,CAAC,UAAf,EACG,2CADH,CAEE,6BAAO,IAAI,CAAC,MAAZ,CACK,EAAE,CAAC,UADR,CAEK,KAAK,CAAE,MAAKb,KAAL,CAAWC,QAFvB,CAGK,IAAI,CAAC,UAHV,CAIK,QAAQ,CAAE,MAAKa,YAJpB,EAFF,CAFF,CAWG,6BAAO,OAAO,CAAC,UAAf,EACE,6CADF,CAEE,6BAAO,IAAI,CAAC,UAAZ,CACM,EAAE,CAAC,UADT,CAEM,KAAK,CAAE,MAAKd,KAAL,CAAWE,QAFxB,CAGM,IAAI,CAAC,UAHX,CAIM,QAAQ,CAAE,MAAKY,YAJrB,EAFF,CAXH,CAoBG,6BAAO,IAAI,CAAC,QAAZ,CAAqB,EAAE,CAAC,QAAxB,EApBH,CAFP,CAwBD,C,OAEDC,U,CAAa,UAAM,CACjB,MAEE,6BAAO,SAAS,CAAC,QAAjB,CAA0B,QAAQ,CAAE,MAAKC,kBAAzC,EACA,6BAAO,OAAO,CAAC,MAAf,EACC,0CADD,CAEG,6BACE,EAAE,CAAC,MADL,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAE,MAAKhB,KAAL,CAAWG,IAHpB,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,CAAE,MAAKW,YALjB,EAFH,CADA,CAWA,6BAAO,OAAO,CAAC,UAAf,EACC,8CADD,CAEG,6BACE,EAAE,CAAC,UADL,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,MAAKd,KAAL,CAAWC,QAHpB,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,CAAE,MAAKa,YALjB,EAFH,CAXA,CAqBA,6BAAO,OAAO,CAAC,KAAf,EACE,wCADF,CAEG,6BACE,IAAI,CAAC,KADP,CAEE,EAAE,CAAC,KAFL,CAGE,GAAG,CAAC,KAHN,CAIE,KAAK,CAAE,MAAKd,KAAL,CAAWI,GAJpB,CAKE,IAAI,CAAC,QALP,CAME,QAAQ,CAAE,MAAKU,YANjB,EAFH,CArBA,CAgCA,6BAAO,OAAO,CAAC,OAAf,EACA,0CADA,CAEI,6BACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAE,MAAKd,KAAL,CAAWK,KAHpB,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,CAAE,MAAKS,YALjB,EAFJ,CAhCA,CA0CA,6BAAO,OAAO,CAAC,QAAf,EACE,2CADF,CAEE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAC,QAAzB,CACA,QAAQ,CAAE,MAAKA,YADf,EAEE,4CAFF,CAGG,8BAAQ,KAAK,CAAC,QAAd,WAHH,CAIG,8BAAQ,KAAK,CAAC,MAAd,SAJH,CAKG,8BAAQ,KAAK,CAAC,qBAAd,wBALH,CAFF,CA1CA,CAoDA,6BAAO,OAAO,CAAC,QAAf,EACE,4CADF,CAEG,6BACE,EAAE,CAAC,QADL,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAE,MAAKd,KAAL,CAAWQ,MAHpB,CAIE,IAAI,CAAC,QAJP,CAKE,QAAQ,CAAE,MAAKM,YALjB,EAFH,CApDA,CA8DA,6BAAO,OAAO,CAAC,QAAf,EACE,4CADF,CAEG,6BACE,EAAE,CAAC,QADL,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAE,MAAKd,KAAL,CAAWO,MAHpB,CAIE,IAAI,CAAC,OAJP,CAKE,QAAQ,CAAE,MAAKO,YALjB,EAFH,CA9DA,CAwEA,6BAAO,OAAO,CAAC,aAAf,EACE,wDADF,CAEG,6BACE,EAAE,CAAC,aADL,CAEE,IAAI,CAAC,aAFP,CAGE,KAAK,CAAE,MAAKd,KAAL,CAAWS,WAHpB,CAIE,IAAI,CAAC,QAJP,CAKE,QAAQ,CAAE,MAAKK,YALjB,EAFH,CAxEA,CAkFA,6BAAO,OAAO,CAAC,UAAf,EACE,8CADF,CAEG,6BACE,EAAE,CAAC,UADL,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,MAAKd,KAAL,CAAWE,QAHpB,CAIE,IAAI,CAAC,UAJP,CAKE,QAAQ,CAAE,MAAKY,YALjB,EAFH,CAlFA,CA4FA,6BAAO,IAAI,CAAC,QAAZ,CAAqB,EAAE,CAAC,QAAxB,EA5FA,CAFF,CAiGD,C,OAEDA,Y,CAAe,SAACG,KAAD,CAAW,CACxB;AACA,MAAKC,QAAL,oBACGD,KAAK,CAACE,MAAN,CAAahB,IADhB,CACwBc,KAAK,CAACE,MAAN,CAAaC,KADrC,GAGD,C,OAEDC,W,CAAc,UAAI,CAChB,MAAKH,QAAL,CAAc,CACZP,OAAO,CAAE,CAAC,MAAKX,KAAL,CAAWW,OADT,CAAd,EAGD,C,OAEDE,iB,CAAoB,SAACI,KAAD,CAAW,CAE5BA,KAAK,CAACK,cAAN,GACD;AACCC,KAAK,CAAC,wCAAD,CAA2C,CAC9CC,MAAM,CAAE,MADsC,CAE9CC,OAAO,CAAE,CACP,eAAiB,kBADV,CAEP,SAAW,kBAFJ,CAFqC,CAM9CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnB3B,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QADF,CAEnBC,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QAFF,CAAf,CANwC,CAA3C,CAAL,CAWC2B,IAXD,CAWM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAXT,EAYCF,IAZD,CAYM,SAAAG,QAAQ,CAAG,CACfC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,QAAQ,CAACG,KAAvC,EACAC,OAAO,CAACC,GAAR,CAAYL,QAAZ,EACC,GAAGA,QAAQ,CAACG,KAAZ,CAAkB,CAChB,MAAKG,KAAL,CAAWC,OAAX,CAAmBP,QAAQ,CAACQ,YAA5B,EACA,MAAKF,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,MAED,CAJD,IAIQ,CACN,MAAKxB,QAAL,CAAc,CACZR,MAAM,CAAEsB,QAAQ,CAACW,KADL,CAAd,EAGD,CACH,CAxBD,EAyBF,C,OAED3B,kB,CAAqB,SAACC,KAAD,CAAW,CAC9BA,KAAK,CAACK,cAAN,GACAC,KAAK,CAAC,yCAAD,CAA4C,CAC/CC,MAAM,CAAE,MADuC,CAE/CC,OAAO,CAAE,CACP,eAAe,kBADR,CAEP,SAAS,kBAFF,CAFsC,CAM/CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBzB,IAAI,CAAE,MAAKH,KAAL,CAAWG,IADE,CAEnBF,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAFF,CAGnBG,GAAG,CAAE,MAAKJ,KAAL,CAAWI,GAHG,CAInBE,MAAM,CAAE,MAAKN,KAAL,CAAWM,MAJA,CAKnBE,MAAM,CAAE,MAAKR,KAAL,CAAWQ,MALA,CAMnBD,MAAM,CAAE,MAAKP,KAAL,CAAWO,MANA,CAOnBqC,YAAY,CAAE,MAAK5C,KAAL,CAAWS,WAPN,CAQnBP,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QARF,CASnBG,KAAK,CAAE,MAAKL,KAAL,CAAWK,KATC,CAAf,CANyC,CAA5C,CAAL,CAkBCwB,IAlBD,CAkBM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAlBT,EAmBCF,IAnBD,CAmBM,SAAAG,QAAQ,CAAI,CAChB;AACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,QAAQ,CAACG,KAAvC,EACA,GAAGH,QAAQ,CAACG,KAAZ,CAAkB,CAChB;AACA,MAAKG,KAAL,CAAWC,OAAX,CAAmBP,QAAQ,CAACQ,YAA5B,EACA,MAAKF,KAAL,CAAWG,OAAX,CAAmBC,IAAnB,MACD,CAJD,IAIQ,CACN,MAAKxB,QAAL,CAAc,CACZR,MAAM,CAAEsB,QAAQ,CAACW,KADL,CAAd,EAID,CACF,CAhCD,EAiCD,C,wEAES,CACV;AACE;AACA,MACE,4BAAK,SAAS,CAAC,iBAAf,EACD,2BAAK,SAAS,CAAC,YAAf,EAEG,KAAK3C,KAAL,CAAWU,MAFd,CAKC,6BAAI,KAAKV,KAAL,CAAWW,OAAX,CACF,4BADE,CAEF,mBAFF,CAGE,yBAAG,OAAO,CAAE,KAAKU,WAAjB,EACE,KAAKrB,KAAL,CAAWW,OAAX,CACA,2CADA,CAEA,yCAHF,CAHF,CALD,CAeG,KAAKX,KAAL,CAAWW,OAAX,CACA,KAAKC,SAAL,EADA,CAGA,KAAKG,UAAL,EAlBH,CADC,CADF,CAyBE,C,mBA5PgBlB,S,EA+PnB,GAAMgD,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAa,CACvC,MAAO,CACLP,OAAO,CAAE,iBAACQ,UAAD,CAAgB,CACvBD,QAAQ,CAAC,CACLE,IAAI,CAAE,UADD,CACaC,OAAO,CAAEF,UADtB,CAAD,CAAR,CAGD,CALI,CAAP,CAOD,CARA,CAUD,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAClD,KAAD,CAAW,CACjC,MAAO,CACLwC,YAAY,CAAExC,KAAK,CAACmD,IADf,CAAP,CAGD,CAJD,CAOA,cAAerD,CAAAA,OAAO,CAACoD,eAAD,CAAkBL,kBAAlB,CAAP,CAA8C9C,KAA9C,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\n\n\nclass Login extends Component {\n state = {\n   \n     username: '',\n     password: '',\n     name: '',\n     age: null,\n     image: \"https://images.unsplash.com/photo-1549297161-14f79605a74c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60\",\n     gender: \"\",\n     height: null,\n     weight: null,\n     goalCalorie: null,\n     errors: '', \n     loginOn: true\n }\n\nloginForm = () => {\n  return ( \n        \n         <form  className=\"inputs\" onSubmit={this.handleLoginSubmit}>\n           \n           <label htmlFor=\"username\">\n              <span>Username</span>\n             <input type=\"text\"\n                  id=\"username\"\n                  value={this.state.username}\n                  name=\"username\"\n                  onChange={this.handleChange}\n             />\n            </label>\n            <label htmlFor=\"password\">\n              <span>Password :</span>\n              <input type=\"password\"\n                    id=\"password\"\n                    value={this.state.password}\n                    name=\"password\"\n                    onChange={this.handleChange}\n              />\n            </label>\n            <input type=\"submit\" id=\"submit\"/>\n          </form>)\n}\n\nsignupForm = () => {\n  return (\n   \n    <form  className=\"inputs\" onSubmit={this.handleSignupSubmit}>\n    <label htmlFor=\"name\">\n     <span> Name :</span>\n       <input \n         id=\"name\"\n         name=\"name\"\n         value={this.state.name}\n         type=\"text\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"username\">\n     <span> Username :</span> \n       <input \n         id=\"username\"\n         name=\"username\"\n         value={this.state.username}\n         type=\"text\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"age\">\n      <span>Age: </span>\n       <input \n         name=\"age\"\n         id=\"age\"\n         age=\"age\"\n         value={this.state.age}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"image\"> \n    <span>Image :</span>\n        <input \n          id=\"image\"\n          name=\"image\"\n          value={this.state.image}\n          type=\"text\"\n          onChange={this.handleChange}\n        />\n    </label>\n    <label htmlFor=\"gender\">\n      <span>Gender :</span>\n      <select name=\"gender\" id=\"gender\"\n      onChange={this.handleChange}>\n        <option> Select</option>\n         <option value=\"Female\">Female</option>\n         <option value=\"Male\">Male</option>\n         <option value=\"Prefered not to say\">Prefered not to say</option>\n      </select>\n    </label>\n    <label htmlFor=\"weight\" >\n      <span>Weight : </span>\n       <input \n         id=\"weight\"\n         name=\"weight\"\n         value={this.state.weight}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"height\">\n      <span>Height : </span>\n       <input \n         id=\"height\"\n         name=\"height\"\n         value={this.state.height}\n         type=\"float\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"goalCalorie\" >\n      <span>Daily goal calorie : </span>\n       <input \n         id=\"goalCalorie\"\n         name=\"goalCalorie\"\n         value={this.state.goalCalorie}\n         type=\"number\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <label htmlFor=\"password\" >\n      <span>Password : </span>\n       <input \n         id=\"password\"\n         name=\"password\"\n         value={this.state.password}\n         type=\"password\"\n         onChange={this.handleChange}\n       />\n    </label>\n    <input type=\"submit\" id=\"submit\"/>\n    </form>\n  )\n}\n\nhandleChange = (event) => {\n  // console.log(event.target.value)\n  this.setState({\n    [event.target.name] : event.target.value\n  })\n}\n\nhandleClick = ()=>{\n  this.setState({\n    loginOn: !this.state.loginOn\n  })\n}\n\nhandleLoginSubmit = (event) => {\n\n   event.preventDefault()\n  //  debugger\n   fetch('https://nutritrack.herokuapp.com/login', {\n     method: 'POST',\n     headers: {\n       \"Content-Type\" : \"application/json\",\n       \"Accept\" : \"application/json\"\n     }, \n     body: JSON.stringify({\n       username: this.state.username,\n       password: this.state.password\n     })\n   })\n   .then(res => res.json())\n   .then(userData =>{\n     localStorage.setItem('token', userData.token)\n     console.log(userData)\n      if(userData.token){\n        this.props.setUser(userData.current_user)\n        this.props.history.push(`/`)\n\n      }  else {\n        this.setState({\n          errors: userData.error\n        })\n      }\n   })\n}\n\nhandleSignupSubmit = (event) => {\n  event.preventDefault()\n  fetch(\"https://nutritrack.herokuapp.com/signup\", {\n    method: \"POST\",\n    headers: {\n      'Content-Type':\"application/json\",\n      \"Accept\":\"application/json\"\n    },\n    body: JSON.stringify({\n      name: this.state.name,\n      username: this.state.username,\n      age: this.state.age,\n      gender: this.state.gender,\n      weight: this.state.weight,\n      height: this.state.height,\n      goal_calorie: this.state.goalCalorie,\n      password: this.state.password,\n      image: this.state.image\n    })\n  })\n  .then(res => res.json())\n  .then(userData => {\n    // console.log(userData)\n    localStorage.setItem('token', userData.token)\n    if(userData.token){\n      // debugger\n      this.props.setUser(userData.current_user)\n      this.props.history.push(`/`)\n    }  else {\n      this.setState({\n        errors: userData.error\n       \n      })\n    }\n  })\n}\n\n render() {\n//  console.log(this.props.history)\n  //  console.log(this.props.current_user)\n  return(\n    <div className=\"login-container\">\n   <div className=\"login-form\">\n    {\n      this.state.errors\n    }\n  \n    <p>{this.state.loginOn ? \n      \"Don't have an account yet?\" : \n      \"I have an account\" } \n      <b onClick={this.handleClick}>\n      { this.state.loginOn ? \n        <span>Sign Up!</span>: \n        <span>Login!</span> }\n        </b>\n       </p>\n    {\n      this.state.loginOn ? \n      this.loginForm()\n     :\n      this.signupForm()\n    }\n   </div>\n   </div>\n    )\n   }\n }\n\n const mapDispatchToProps = (dispatch) =>{\n  return {\n    setUser: (userObject) => {\n      dispatch({\n          type: 'SET_USER', payload: userObject\n        })\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    current_user: state.user\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps) (Login)"]},"metadata":{},"sourceType":"module"}